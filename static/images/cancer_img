def signup(request):    if request.method == 'POST':        username = request.POST['username']        email = request.POST['email']        password = request.POST['password']                # Check if the username already exists        if User.objects.filter(username=username).exists():            messages.error(request, 'Username already exists.')            return render(request, 'signup.html')        # Create a new user        user = User.objects.create_user(username=username, email=email, password=password)        # Create a patient and link to the user        patient = Patient.objects.create(user=user, name=username, email=email)                # Log the user in        login(request, user)        # Display success message        messages.success(request, 'Account successfully created! Welcome to Dayaan Medicals.')        # Redirect to patient dashboard        return redirect('patient_dashboard')    return render(request, 'signup.html')