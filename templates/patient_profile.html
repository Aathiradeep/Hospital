{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/patient_profile.css' %}">

<div class="container mt-5">
    <div class="card shadow-lg p-4 mb-5 bg-white rounded">
        <div class="card-body text-center">
            <!-- Profile Image -->
            {% if patient.profile_picture %}
                <img src="{{ patient.profile_picture.url }}" class="rounded-circle" alt="Patient Profile" width="150">
            {% else %}
                <img src="{% static 'images/profile_icon.jpg' %}" class="rounded-circle" alt="Default Profile" width="150">
            {% endif %}
            <h2 class="mt-3">{{ patient.first_name }} {{ patient.last_name }}</h2>

            <!-- Edit Profile Button -->
            <a href="{% url 'edit_patient_profile' patient.id %}" class="btn btn-primary btn-sm mt-3">
                <i class="fas fa-edit"></i> Edit Profile
            </a>
        </div>

        <!-- Patient Bio -->
        <div class="card-body text-left">
            <h4>Personal Bio</h4>
            <p><strong>Name:</strong> {{ patient.first_name }} {{ patient.last_name }}</p>
            <p><strong>Address:</strong> {{ patient.patient_address|default_if_none:"Not provided" }}</p>
            <p><strong>Phone Number:</strong> {{ patient.phone_number|default_if_none:"Not provided" }}</p>
            <p><strong>Email:</strong> {{ patient.email }}</p>
            <p><strong>Medical History:</strong> {{ patient.medical_history|default_if_none:"No medical history available" }}</p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock %}
